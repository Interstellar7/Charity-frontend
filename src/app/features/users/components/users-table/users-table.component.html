<table mat-table class="full-width-table" [dataSource]="users">
  <!-- Id Column -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef>ID</th>
    <td mat-cell *matCellDef="let row">
      {{row.id}}
    </td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef>Actions</th>
    <td mat-cell *matCellDef="let row">
<!--      <a mat-stroked-button [routerLink]="row.id">View</a>-->
      <button mat-stroked-button (click)="handleEditClick(row)">Edit info</button>
      <button mat-stroked-button color="primary" (click)="handleSetRoleClick(row)">Set Roles</button>
    </td>
  </ng-container>

  <!-- firstName Column -->
  <ng-container matColumnDef="firstName">
    <th mat-header-cell *matHeaderCellDef>First name</th>
    <td mat-cell *matCellDef="let row">{{row.personalInfo.firstName}}</td>
  </ng-container>

  <!-- lastName Column -->
  <ng-container matColumnDef="lastName">
    <th mat-header-cell *matHeaderCellDef>Last name</th>
    <td mat-cell *matCellDef="let row">{{row.personalInfo.lastName}}</td>
  </ng-container>

  <!-- username Column -->
  <ng-container matColumnDef="username">
    <th mat-header-cell *matHeaderCellDef>Username</th>
    <td mat-cell *matCellDef="let row">{{row.username}}</td>
  </ng-container>

  <!-- roleColor Column -->
  <ng-container matColumnDef="roles">
    <th mat-header-cell *matHeaderCellDef>Roles</th>
    <td mat-cell *matCellDef="let row">
      <mat-chip-list>
        <mat-chip selected *ngFor="let role of row.roles" color="{{role|roleColor}}">{{role}}</mat-chip>
      </mat-chip-list>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columns"></tr>
  <tr
    mat-row
    *matRowDef="let row; columns: columns;"
    (click)="handleSelectedRow(row)"
    [class.selected-row]="selectedUser?.id == row.id"
  ></tr>
</table>
